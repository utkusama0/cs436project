 worker_processes 1;
 events { worker_connections 1024; }

 http {
   include       mime.types;
   default_type  application/octet-stream;

   sendfile        on;
   keepalive_timeout 65;

   server {
     listen 80;
     server_name _;

    # ────── tell nginx where your files live ──────
    root   /usr/share/nginx/html;
    index  index.html;

     # Serve static or client routes; fall back once to index.html
     location / {

      try_files $uri $uri/ /index.html;
     }

    # Optional: avoid hitting the fallback for known static extensions
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|ttf|woff2?)$ {
      try_files $uri =404;
    }

     # /api is handled by the Ingress—don’t proxy it here.
   }
 }
